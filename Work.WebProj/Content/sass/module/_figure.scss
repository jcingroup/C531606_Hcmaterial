@charset "UTF-8";

$figure-color:            #fff !default;
$figure-bg:               #fff !default;
$figure-border-color:     #9CD217 !default;
$figure-text-align:       center !default;

$figure-width:            percentage(1/5) !default;
$figure-height:           215px !default;
$figure-min-width:        244px !default;
$figure-max-width:        percentage(1/5) !default;
$figure-margin:           0 !default;

$figure-title-size:       15px !default;
$figure-title-color:      #7F7F7F !default;
$figure-title-position:   bottom 5% left 0 right 0 !default;

$figure-caption-size:     13px !default;
$figure-caption-color:    $gray !default;
$figure-caption-position: top 30% left 0 right 0!default;

// common style
figcaption, figure > a {
    @include size(100%);
    @include absolute(left 0 top 0);
}

figcaption {
    text-transform: uppercase;

    @extend %effect-all;
    @include prefix(backface-visibility, hidden);

    &::before, &::after { pointer-events: none; }
}

figure {
    position: relative;
    overflow: hidden;
    cursor: pointer;
    // float: left;
    display: inline-block;
    margin-left: -4px;

    width: $figure-width;
    height: $figure-height;
    max-width: $figure-max-width;
    // margin: $figure-margin;

    text-align: $figure-text-align;

    // @extend %effect-all;

    img {
        position: relative;
        min-width: 100%;
        min-height: 100%;
    }

    > a {
        z-index: z(figure);
        white-space: nowrap;
        opacity: 0;
    }

    // RWD
    @include mq-max(break(desktop, -1)) {
        float: none;
        display: inline-block;
    }
    @include mq-max(tablet) {
        width: 48%;
        max-width: none;
        margin: 3px; margin-bottom: 15px;
    }
    @include mq-max(phone) { width: 100%; }

    // 描述
    h4, p { margin: 0; }
    h4 {
        @include absolute($figure-title-position);
        // @include prefix(transform, translateY(-100%));
        color: $figure-title-color;
        font-size: em($figure-title-size);
    }
    p {
        color: $figure-caption-color;
        font-size: em($figure-caption-size);
        @include absolute($figure-caption-position);
    }
}

// theme

// 背景滿版(in index)
// .img-full {

//     img {
//         @include prefix(transition, 'transform 1s, opacity .6s');
//         opacity: .15;
//     }
// }

.quick-nav {
    letter-spacing: 2px;

    &:nth-of-type(1) { background: #4D96AA; } //old:043969
    &:nth-of-type(2) { background: #416C95; } //old:015267

    p {
        @include prefix(transition, background .5s);
        @include prefix(transform, translateX(-50%));
    }
    &:hover, &:active {
        &:nth-of-type(1) { background: lighten(#4D96AA, 4%); } //old:043969
        &:nth-of-type(2) { background: lighten(#416C95, 4%); } //old:015267
        p {
            background: rgba($gray-base, .3);
            opacity: 1;
        }
    }
}

// 標題置底(in products series)
.over-color {
    border-left: 1px solid darken($brand-gray, 5%);
    min-width: $figure-min-width;

    &:first-child { border-left: none; }

    img {
        min-width: 62%;
        min-height: 62%;
        margin-top: -8%;
        @include prefix(transition, 'opacity .5s');
    }
    p {
        @include prefix(transition, 'opacity .3s, top .5s');
        opacity: 0;
    }
    span { margin: 3px; }
    &:hover, &:active {
        p { opacity: 1; top: 35% }
        img { opacity: .25 }
        h4 { color: $brand-primary; }
    }

    @include mq-max(phone) { width: 85%; }
}